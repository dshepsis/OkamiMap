<!DOCTYPE HTML>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Okami Map</title>
  <meta name="description" content="Map of treasure, clovers, etc. in Okami">
  <meta name="author" content="Daniel Shepsis">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <table>
  <thead>
    <tr>
      <th>Map</th>
      <th>Type</th>
      <th>Contents</th>
      <th>Image</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody id="tb">
  </tbody>
  </table>

<script>
const tb = document.getElementById('tb');

function tdEl(text) {
  const el = document.createElement('td');
  el.innerText = text;
  return el;
}

function tdImageEl(src) {
  const td = document.createElement('td');
  const img = document.createElement('img');
  img.src = src;
  td.appendChild(img);
  return img;
}

function datumToTR(datum) {
  const tr = document.createElement('tr');
  const {map, type, contents, image, notes} = datum;
  const children = [tdEl(map), tdEl(type), tdEl(contents), tdImageEl(image), tdEl(notes)];
  for (const c of children) {
    tr.appendChild(c);
  }
  return tr;
}

(async ()=>{
  const response = await fetch('./data.json');
  const data = await response.json();
  for (const datum of data) {
    tb.appendChild(datumToTR(datum));
  }
})();
</script>

</body>
</html>
